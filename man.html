<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 10 Object documentation | R Packages</title>
<meta name="author" content="Hadley Wickham">
<meta name="author" content="Jennifer Bryan">
<meta name="description" content="Documentation is one of the most important aspects of a good package. Without it, users won’t know how to use your package. Documentation is also useful for future-you (so you remember what your...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 10 Object documentation | R Packages">
<meta property="og:type" content="book">
<meta property="og:url" content="https://r-pkgs.org/man.html">
<meta property="og:image" content="https://r-pkgs.org/images/cover.png">
<meta property="og:description" content="Documentation is one of the most important aspects of a good package. Without it, users won’t know how to use your package. Documentation is also useful for future-you (so you remember what your...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 10 Object documentation | R Packages">
<meta name="twitter:site" content="@hadley">
<meta name="twitter:description" content="Documentation is one of the most important aspects of a good package. Without it, users won’t know how to use your package. Documentation is also useful for future-you (so you remember what your...">
<meta name="twitter:image" content="https://r-pkgs.org/images/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141182576-1"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-141182576-1');
  </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R Packages</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome!</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li class="book-part">Getting started</li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="whole-game.html"><span class="header-section-number">2</span> The whole game</a></li>
<li><a class="" href="setup.html"><span class="header-section-number">3</span> System setup</a></li>
<li><a class="" href="package-structure-state.html"><span class="header-section-number">4</span> Package structure and state</a></li>
<li><a class="" href="workflows101.html"><span class="header-section-number">5</span> Fundamental development workflows</a></li>
<li><a class="" href="package-within.html"><span class="header-section-number">6</span> The package within</a></li>
<li class="book-part">Package components</li>
<li><a class="" href="r.html"><span class="header-section-number">7</span> R code</a></li>
<li><a class="" href="description.html"><span class="header-section-number">8</span> Package metadata</a></li>
<li><a class="" href="license.html"><span class="header-section-number">9</span> Licensing</a></li>
<li><a class="active" href="man.html"><span class="header-section-number">10</span> Object documentation</a></li>
<li><a class="" href="vignettes.html"><span class="header-section-number">11</span> Vignettes: long-form documentation</a></li>
<li><a class="" href="tests.html"><span class="header-section-number">12</span> Testing</a></li>
<li><a class="" href="namespace.html"><span class="header-section-number">13</span> Namespace</a></li>
<li><a class="" href="data.html"><span class="header-section-number">14</span> External data</a></li>
<li><a class="" href="src.html"><span class="header-section-number">15</span> Compiled code</a></li>
<li><a class="" href="inst.html"><span class="header-section-number">16</span> Installed files</a></li>
<li><a class="" href="misc.html"><span class="header-section-number">17</span> Other components</a></li>
<li class="book-part">Sharing with others</li>
<li><a class="" href="git.html"><span class="header-section-number">18</span> Git and GitHub</a></li>
<li><a class="" href="r-cmd-check.html"><span class="header-section-number">19</span> Automated checking</a></li>
<li><a class="" href="release.html"><span class="header-section-number">20</span> Releasing a package</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/hadley/r-pkgs">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="man" class="section level1">
<h1>
<span class="header-section-number">10</span> Object documentation<a class="anchor" aria-label="anchor" href="#man"><i class="fas fa-link"></i></a>
</h1>
<!--
Notes re: revision

Now that roxygen2 itself is much better documented, this can become less mechanistic.

Get into some squishier topics: How do you describe a function? How to document parameters?

Examples: how to write them, think about dependencies, running time, ways to not run certain examples that will fly at CRAN
-->
<p>Documentation is one of the most important aspects of a good package. Without it, users won’t know how to use your package. Documentation is also useful for future-you (so you remember what your functions were supposed to do), and for developers extending your package.</p>
<p>There are multiple forms of documentation. In this chapter, you’ll learn about object documentation, as accessed by <code>?</code> or <code>help()</code>. Object documentation is a type of reference documentation. It works like a dictionary: while a dictionary is helpful if you want to know what a word means, it won’t help you find the right word for a new situation. Similarly, object documentation is helpful if you already know the name of the object, but it doesn’t help you find the object you need to solve a given problem. That’s one of the jobs of vignettes, which you’ll learn about in the next chapter.</p>
<p>R provides a standard way of documenting the objects in a package: you write <code>.Rd</code> files in the <code>man/</code> directory. These files use a custom syntax, loosely based on LaTeX, and are rendered to HTML, plain text and pdf for viewing. Instead of writing these files by hand, we’re going to use roxygen2 which turns specially formatted comments into <code>.Rd</code> files. The goal of roxygen2 is to make documenting your code as easy as possible. It has a number of advantages over writing <code>.Rd</code> files by hand:</p>
<ul>
<li><p>Code and documentation are intermingled so that when you modify your code,
you’re reminded to also update your documentation.</p></li>
<li><p>Roxygen2 dynamically inspects the objects that it documents, so you
can skip some boilerplate that you’d otherwise need to write by hand.</p></li>
<li><p>It abstracts over the differences in documenting different types of objects,
so you need to learn fewer details.</p></li>
</ul>
<p>As well as generating <code>.Rd</code> files, roxygen2 can also manage your <code>NAMESPACE</code> and the <code>Collate</code> field in <code>DESCRIPTION</code>. This chapter discusses <code>.Rd</code> files and the collate field. <a href="namespace.html#namespace">NAMESPACE</a> describes how you can use roxygen2 to manage your <code>NAMESPACE</code>, and why you should care.</p>
<div id="man-workflow" class="section level2">
<h2>
<span class="header-section-number">10.1</span> The documentation workflow<a class="anchor" aria-label="anchor" href="#man-workflow"><i class="fas fa-link"></i></a>
</h2>
<p>In this section, we’ll first go over a rough outline of the complete documentation workflow. Then, we’ll dive into each step individually. There are four basic steps:</p>
<ol style="list-style-type: decimal">
<li><p>Add roxygen comments to your <code>.R</code> files.</p></li>
<li><p>Run <code><a href="https://devtools.r-lib.org//reference/document.html">devtools::document()</a></code> (or press Ctrl/Cmd + Shift + D in RStudio) to
convert roxygen comments to <code>.Rd</code> files. (<code><a href="https://devtools.r-lib.org//reference/document.html">devtools::document()</a></code> calls
<code><a href="https://roxygen2.r-lib.org/reference/roxygenize.html">roxygen2::roxygenise()</a></code> to do the hard work.)</p></li>
<li><p>Preview documentation with <code>?</code>.</p></li>
<li><p>Rinse and repeat until the documentation looks the way you want.</p></li>
</ol>
<p>The process starts when you add roxygen comments to your source file: roxygen comments start with <code>#'</code> to distinguish them from regular comments. Here’s documentation for a simple function:</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Add together two numbers</span>
<span class="co">#' </span>
<span class="co">#' @param x A number.</span>
<span class="co">#' @param y A number.</span>
<span class="co">#' @return The sum of \code{x} and \code{y}.</span>
<span class="co">#' @examples</span>
<span class="co">#' add(1, 1)</span>
<span class="co">#' add(10, 1)</span>
<span class="va">add</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">x</span> <span class="op">+</span> <span class="va">y</span>
<span class="op">}</span></code></pre></div>
<p>Pressing Ctrl/Cmd + Shift + D (or running <code><a href="https://devtools.r-lib.org//reference/document.html">devtools::document()</a></code>) will generate a <code>man/add.Rd</code> that looks like:</p>
<pre><code>% Generated by roxygen2 (4.0.0): do not edit by hand
\name{add}
\alias{add}
\title{Add together two numbers}
\usage{
add(x, y)
}
\arguments{
  \item{x}{A number}

  \item{y}{A number}
}
\value{
The sum of \code{x} and \code{y}
}
\description{
Add together two numbers
}
\examples{
add(1, 1)
add(10, 1)
}</code></pre>
<p>If you’re familiar with LaTeX, this should look familiar since the <code>.Rd</code> format is loosely based on it. You can read more about the Rd format in the <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Rd-format">R extensions</a> manual. Note the comment at the top of the file: it was generated by code and shouldn’t be modified. Indeed, if you use roxygen2, you’ll rarely need to look at these files.</p>
<p>When you use <code>?add</code>, <code>help("add")</code>, or <code>example("add")</code>, R looks for an <code>.Rd</code> file containing <code>\alias{"add"}</code>. It then parses the file, converts it into HTML and displays it. Here’s what the result looks like in RStudio:</p>
<div class="inline-figure">
<img src="images/man-add.png"><!-- -->
</div>
<p>(Note you can preview development documentation because devtools overrides the usual help functions to teach them how to work with source packages. If the documentation doesn’t appear, make sure that you’re using devtools and that you’ve loaded the package with <code><a href="https://devtools.r-lib.org//reference/load_all.html">devtools::load_all()</a></code>.)</p>
</div>
<div id="man-workflow-2" class="section level2">
<h2>
<span class="header-section-number">10.2</span> Alternative documentation workflow<a class="anchor" aria-label="anchor" href="#man-workflow-2"><i class="fas fa-link"></i></a>
</h2>
<p>The first documentation workflow is very fast, but it has one limitation: the preview documentation pages will not show any links between pages. If you’d like to also see links, use this workflow:</p>
<ol style="list-style-type: decimal">
<li><p>Add roxygen comments to your <code>.R</code> files.</p></li>
<li><div class="inline-figure">Click <img src="images/build-reload.png"><!-- -->
in the build pane or press Ctrl/Cmd + Shift + B. This completely rebuilds the
package, including updating all the documentation, installs it in your
regular library, then restarts R and reloads your package. This is
slow but thorough.</div></li>
<li><p>Preview documentation with <code>?</code>.</p></li>
<li><p>Rinse and repeat until the documentation looks the way you want.</p></li>
</ol>
<p>If this workflow doesn’t seem to be working, check your project options in RStudio. Old versions of devtools and RStudio did not automatically update the documentation when the package was rebuilt:</p>
<div class="inline-figure">
<img src="images/build-reload-opts-2.png"><!-- -->
</div>
</div>
<div id="roxygen-comments" class="section level2">
<h2>
<span class="header-section-number">10.3</span> Roxygen comments<a class="anchor" aria-label="anchor" href="#roxygen-comments"><i class="fas fa-link"></i></a>
</h2>
<p>Roxygen comments start with <code>#'</code> and come before a function. All the roxygen lines preceding a function are called a <strong>block</strong>. Each line should be wrapped in the same way as your code, normally at 80 characters.</p>
<p>Blocks are broken up into <strong>tags</strong>, which look like <code>@tagName details</code>. The content of a tag extends from the end of the tag name to the start of the next tag (or the end of the block). Because <code>@</code> has a special meaning in roxygen, you need to write <code>@@</code> if you want to add a literal <code>@</code> to the documentation (this is mostly important for email addresses and for accessing slots of S4 objects).</p>
<p>Each block includes some text before the first tag.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Note that it is possible to define the “introduction” sections - the title and description - explicitly, rather than implicitly, using &lt;code&gt;@title&lt;/code&gt; and &lt;code&gt;@description&lt;/code&gt; tags. I follow the convention of avoiding this, as do many other package authors, so I don’t recommend it - but you should be aware that these tags do exist and may appear in other package-writers’ source code.&lt;/p&gt;"><sup>23</sup></a> This is called the <strong>introduction</strong>, and is parsed specially:</p>
<ul>
<li><p>The first <em>sentence</em> becomes the title of the documentation. That’s what you
see when you look at <code><a href="https://rdrr.io/pkg/mypackage/man">help(package = mypackage)</a></code> and is shown at the top of
each help file. It should fit on one line, be written in sentence case, but not
end in a full stop.</p></li>
<li><p>The second <em>paragraph</em> is the description: this comes first in the
documentation and should briefly describe what the function does.</p></li>
<li><p>The third and subsequent <em>paragraphs</em> go into the details: this is a
(often long) section that is shown after the argument description and should
go into detail about how the function works.</p></li>
</ul>
<p>All objects must have a title and description. Details are optional.</p>
<p>Here’s an example showing what the introduction for <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> might look like if it had been written with roxygen:</p>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Sum of vector elements</span>
<span class="co">#' </span>
<span class="co">#' \code{sum} returns the sum of all the values present in its arguments.</span>
<span class="co">#' </span>
<span class="co">#' This is a generic function: methods can be defined for it directly or via the</span>
<span class="co">#' \code{\link{Summary}} group generic. For this to work properly, the arguments</span>
<span class="co">#' \code{...} should be unnamed, and dispatch is on the first argument.</span>
<span class="va">sum</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span>, <span class="va">na.rm</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span></code></pre></div>
<p><code>\code{}</code> and <code>\link{}</code> are formatting commands that you’ll learn about in <a href="man.html#text-formatting">formatting</a>. I’ve been careful to wrap the roxygen block so that it’s less than 80 characters wide. You can do that automatically in Rstudio with Ctrl/Cmd + Shift + / (or from the menu, code | re-flow comment).</p>
<p>You can add arbitrary sections to the documentation with the <code>@section</code> tag. This is a useful way of breaking a long details section into multiple chunks with useful headings. Section titles should be in sentence case, must be followed by a colon, and they can only be one line long.</p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @section Warning:</span>
<span class="co">#' Do not operate heavy machinery within 8 hours of using this function.</span></code></pre></div>
<p>There are two tags that make it easier for people to navigate between help files:</p>
<ul>
<li><p><code>@seealso</code> allows you to point to other useful resources, either on the web,
<code>\url{https://www.r-project.org}</code>, in your package <code>\code{\link{functioname}}</code>,
or another package <code>\code{\link[packagename]{functioname}}</code>.</p></li>
<li><p>If you have a family of related functions where every function should link
to every other function in the family, use <code>@family</code>. The value of <code>@family</code>
should be plural.</p></li>
</ul>
<p>For sum, these components might look like:</p>
<div class="sourceCode" id="cb142"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @family aggregate functions</span>
<span class="co">#' @seealso \code{\link{prod}} for products, \code{\link{cumsum}} for cumulative</span>
<span class="co">#'   sums, and \code{\link{colSums}}/\code{\link{rowSums}} marginal sums over</span>
<span class="co">#'   high-dimensional arrays.</span></code></pre></div>
<p>Two other tags make it easier for the user to find documentation:</p>
<ul>
<li><p><code>@aliases alias1 alias2 ...</code> adds additional aliases to the topic.
An alias is another name for the topic that can be used with <code>?</code>.</p></li>
<li>
<p><code>@keywords keyword1 keyword2 ...</code> adds standardised keywords. Keywords are
optional, but if present, must be taken from a predefined list found in
<code>file.path(R.home("doc"), "KEYWORDS")</code>.</p>
<p>Generally, keywords are not that useful except for <code>@keywords internal</code>.
Using the internal keyword removes the function from the package
index and disables some of its automated tests. It’s common to use
<code>@keywords internal</code> for functions that are of interest to other
developers extending your package, but not most users.</p>
</li>
</ul>
<p>Other tags are situational: they vary based on the type of object that you’re documenting. The following sections describe the most commonly used tags for functions, packages and the various methods, generics and objects used by R’s three OO systems.</p>
</div>
<div id="man-functions" class="section level2">
<h2>
<span class="header-section-number">10.4</span> Documenting functions<a class="anchor" aria-label="anchor" href="#man-functions"><i class="fas fa-link"></i></a>
</h2>
<p>Functions are the most commonly documented object. As well as the introduction block, most functions have three tags: <code>@param</code>, <code>@examples</code> and <code>@return</code>.</p>
<ul>
<li>
<p><code>@param name description</code> describes the function’s inputs or parameters.
The description should provide a succinct summary of the type of the
parameter (e.g., string, numeric vector) and, if not obvious from
the name, what the parameter does.</p>
<p>The description should start with a capital letter and end with a full stop.
It can span multiple lines (or even paragraphs) if necessary. All
parameters must be documented.</p>
<p>You can document multiple arguments in one place by separating
the names with commas (no spaces). For example, to document both
<code>x</code> and <code>y</code>, you can write <code>@param x,y Numeric vectors.</code>.</p>
</li>
<li>
<p><code>@examples</code> provides executable R code showing how to use the function in
practice. This is a very important part of the documentation because
many people look at the examples first. Example code must work without
errors as it is run automatically as part of <code>R CMD check</code>.</p>
<p>For the purpose of illustration, it’s often useful to include code
that causes an error. <code>\dontrun{}</code> allows you to include code in the
example that is not run. (You used to be able to use <code>\donttest{}</code> for
a similar purpose, but it’s no longer recommended because it actually
<strong>is</strong> tested.)</p>
<p>Instead of including examples directly in the documentation, you can
put them in separate files and use <code>@example path/relative/to/package/root</code>
to insert them into the documentation. (Note that the <code>@example</code> tag here has no ‘s’.)</p>
</li>
<li><p><code>@return description</code> describes the output from the function. This is
not always necessary, but is a good idea if your function returns different
types of output depending on the input, or if you’re returning an S3, S4 or
RC object.</p></li>
</ul>
<p>We could use these new tags to improve our documentation of <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> as follows:</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Sum of vector elements</span>
<span class="co">#'</span>
<span class="co">#' \code{sum} returns the sum of all the values present in its arguments.</span>
<span class="co">#'</span>
<span class="co">#' This is a generic function: methods can be defined for it directly</span>
<span class="co">#' or via the \code{\link{Summary}} group generic. For this to work properly,</span>
<span class="co">#' the arguments \code{...} should be unnamed, and dispatch is on the</span>
<span class="co">#' first argument.</span>
<span class="co">#'</span>
<span class="co">#' @param ... Numeric, complex, or logical vectors.</span>
<span class="co">#' @param na.rm A logical scalar. Should missing values (including NaN)</span>
<span class="co">#'   be removed?</span>
<span class="co">#' @return If all inputs are integer and logical, then the output</span>
<span class="co">#'   will be an integer. If integer overflow</span>
<span class="co">#'   \url{https://en.wikipedia.org/wiki/Integer_overflow} occurs, the output</span>
<span class="co">#'   will be NA with a warning. Otherwise it will be a length-one numeric or</span>
<span class="co">#'   complex vector.</span>
<span class="co">#'</span>
<span class="co">#'   Zero-length vectors have sum 0 by definition. See</span>
<span class="co">#'   \url{https://en.wikipedia.org/wiki/Empty_sum} for more details.</span>
<span class="co">#' @examples</span>
<span class="co">#' sum(1:10)</span>
<span class="co">#' sum(1:5, 6:10)</span>
<span class="co">#' sum(F, F, F, T, T)</span>
<span class="co">#'</span>
<span class="co">#' sum(.Machine$integer.max, 1L)</span>
<span class="co">#' sum(.Machine$integer.max, 1)</span>
<span class="co">#'</span>
<span class="co">#' \dontrun{</span>
<span class="co">#' sum("a")</span>
<span class="co">#' }</span>
<span class="va">sum</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span>, <span class="va">na.rm</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span></code></pre></div>
<p>Indent the second and subsequent lines of a tag so that when scanning the documentation it’s easy to see where one tag ends and the next begins. Tags that always span multiple lines (like <code>@examples</code>) should start on a new line and don’t need to be indented.</p>
</div>
<div id="man-data" class="section level2">
<h2>
<span class="header-section-number">10.5</span> Documenting datasets<a class="anchor" aria-label="anchor" href="#man-data"><i class="fas fa-link"></i></a>
</h2>
<p>See <a href="data.html#documenting-data">documenting data</a>.</p>
</div>
<div id="man-packages" class="section level2">
<h2>
<span class="header-section-number">10.6</span> Documenting packages<a class="anchor" aria-label="anchor" href="#man-packages"><i class="fas fa-link"></i></a>
</h2>
<p>You can use roxygen to provide a help page for your package as a whole. This is accessed with <code>package?foo</code>, and can be used to describe the most important components of your package. It’s a useful supplement to vignettes, as described in the next chapter.</p>
<p>There’s no object that corresponds to a package, so you need to document <code>NULL</code>, and then manually label it with <code>@docType package</code> and <code>@name &lt;package-name&gt;</code>. This is also an excellent place to use the <code>@section</code> tag to divide up page into useful categories.</p>
<div class="sourceCode" id="cb144"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' foo: A package for computating the notorious bar statistic</span>
<span class="co">#'</span>
<span class="co">#' The foo package provides three categories of important functions:</span>
<span class="co">#' foo, bar and baz.</span>
<span class="co">#' </span>
<span class="co">#' @section Foo functions:</span>
<span class="co">#' The foo functions ...</span>
<span class="co">#'</span>
<span class="co">#' @docType package</span>
<span class="co">#' @name foo</span>
<span class="cn">NULL</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>I usually put this documentation in a file called <code>&lt;package-name&gt;.R</code>. It’s also a good place to put the package level import statements that you’ll learn about in <a href="namespace.html#imports">imports</a>.</p>
</div>
<div id="man-classes" class="section level2">
<h2>
<span class="header-section-number">10.7</span> Documenting classes, generics and methods<a class="anchor" aria-label="anchor" href="#man-classes"><i class="fas fa-link"></i></a>
</h2>
<p>It’s relatively straightforward to document classes, generics and methods. The details vary based on the object system you’re using. The following sections give the details for the S3, S4 and RC object systems.</p>
<div id="man-s3" class="section level3">
<h3>
<span class="header-section-number">10.7.1</span> S3<a class="anchor" aria-label="anchor" href="#man-s3"><i class="fas fa-link"></i></a>
</h3>
<p>S3 <strong>generics</strong> are regular functions, so document them as such. S3 <strong>classes</strong> have no formal definition, so document the constructor function. It is your choice whether or not to document S3 <strong>methods</strong>. You don’t need to document methods for simple generics like <code><a href="https://rdrr.io/r/base/print.html">print()</a></code>. But if your method is more complicated or includes additional arguments, you should document it so people know how it works. In base R, you can see examples of documentation for more complex methods like <code><a href="https://rdrr.io/r/stats/predict.lm.html">predict.lm()</a></code>, <code><a href="https://rdrr.io/r/stats/predict.glm.html">predict.glm()</a></code>, and <code><a href="https://rdrr.io/r/stats/anova.glm.html">anova.glm()</a></code>.</p>
<p>Older versions of roxygen required explicit <code>@method generic class</code> tags for all S3 methods. From version 3.0.0 onward, this is no longer needed as roxygen2 will figure it out automatically. If you are upgrading, make sure to remove these old tags. Automatic method detection will only fail if the generic and class are ambiguous. For example, is <code>all.equal.data.frame()</code> the <code>equal.data.frame</code> method for <code>all</code>, or the <code>data.frame</code> method for <code>all.equal</code>? If this happens, you can disambiguate with e.g. <code>@method all.equal data.frame</code>.</p>
</div>
<div id="man-s4" class="section level3">
<h3>
<span class="header-section-number">10.7.2</span> S4<a class="anchor" aria-label="anchor" href="#man-s4"><i class="fas fa-link"></i></a>
</h3>
<p>Document <strong>S4 classes</strong> by adding a roxygen block before <code>setClass()</code>. Use <code>@slot</code> to document the slots of the class in the same way you use <code>@param</code> to describe the parameters of a function. Here’s a simple example:</p>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' An S4 class to represent a bank account.</span>
<span class="co">#'</span>
<span class="co">#' @slot balance A length-one numeric vector</span>
<span class="va">Account</span> <span class="op">&lt;-</span> <span class="kw">setClass</span><span class="op">(</span><span class="st">"Account"</span>,
  slots <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>balance <span class="op">=</span> <span class="st">"numeric"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>S4 <strong>generics</strong> are also functions, so document them as such. S4 <strong>methods</strong> are a little more complicated, however. Unlike S3, all S4 methods must be documented. You document them like a regular function, but you probably don’t want each method to have its own documentation page. Instead, put the method documentation in one of three places:</p>
<ul>
<li><p>In the class. Most appropriate if the corresponding generic uses single
dispatch and you created the class.</p></li>
<li><p>In the generic. Most appropriate if the generic uses multiple dispatch
and you have written both the generic and the method.</p></li>
<li><p>In its own file. Most appropriate if the method is complex, or if
you’ve written the method but not the class or generic.</p></li>
</ul>
<p>Use either <code>@rdname</code> or <code>@describeIn</code> to control where method documentation goes. See <a href="man.html#multiple-man">documenting multiple objects in one file</a> for details.</p>
<p>Another consideration is that S4 code often needs to run in a certain order. For example, to define the method <code>setMethod("foo", c("bar", "baz"), ...)</code> you must already have created the <code>foo</code> generic and the two classes. By default, R code is loaded in alphabetical order, but that won’t always work for your situation. Rather than relying on alphabetic ordering, roxygen2 provides an explicit way of saying that one file must be loaded before another: <code>@include</code>. The <code>@include</code> tag gives a space separated list of file names that should be loaded before the current file:</p>
<div class="sourceCode" id="cb146"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @include class-a.R</span>
<span class="kw">setClass</span><span class="op">(</span><span class="st">"B"</span>, contains <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></code></pre></div>
<p>Often, it’s easiest to put this at the top of the file. To make it clear that this tag applies to the whole file, and not a specific object, document <code>NULL</code>.</p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @include foo.R bar.R baz.R</span>
<span class="cn">NULL</span>

<span class="kw">setMethod</span><span class="op">(</span><span class="st">"foo"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"bar"</span>, <span class="st">"baz"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<p>Roxygen uses the <code>@include</code> tags to compute a topological sort which ensures that dependencies are loaded before they’re needed. It then sets the <code>Collate</code> field in <code>DESCRIPTION</code>, which overrides the default alphabetic ordering. A simpler alternative to <code>@include</code> is to define all classes and methods in <code>aaa-classes.R</code> and <code>aaa-generics.R</code>, and rely on these coming first since they’re in alphabetical order. The main disadvantage is that you can’t organise components into files as naturally as you might want.</p>
<p>Older versions of roxygen2 required explicit <code>@usage</code>, <code>@alias</code> and <code>@docType</code> tags for documenting S4 objects. However, as of version 3.0.0, roxygen2 generates the correct values automatically so you no longer need to use them. If you’re upgrading from an old version, you can delete these tags.</p>
</div>
<div id="man-rc" class="section level3">
<h3>
<span class="header-section-number">10.7.3</span> RC<a class="anchor" aria-label="anchor" href="#man-rc"><i class="fas fa-link"></i></a>
</h3>
<p>Reference classes are different to S3 and S4 because methods are associated with classes, not generics. RC also has a special convention for documenting methods: the <strong>docstring</strong>. The docstring is a string placed inside the definition of the method which briefly describes what it does. This makes documenting RC simpler than S4 because you only need one roxygen block per class.</p>
<div class="sourceCode" id="cb148"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' A Reference Class to represent a bank account.</span>
<span class="co">#'</span>
<span class="co">#' @field balance A length-one numeric vector.</span>
<span class="va">Account</span> <span class="op">&lt;-</span> <span class="kw">setRefClass</span><span class="op">(</span><span class="st">"Account"</span>,
  fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>balance <span class="op">=</span> <span class="st">"numeric"</span><span class="op">)</span>,
  methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    withdraw <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
      <span class="st">"Withdraw money from account. Allows overdrafts"</span>
      <span class="va">balance</span> <span class="op">&lt;&lt;-</span> <span class="va">balance</span> <span class="op">-</span> <span class="va">x</span>
    <span class="op">}</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Methods with doc strings will be included in the “Methods” section of the class documentation. Each documented method will be listed with an automatically generated usage statement and its doc string. Also note the use of <code>@field</code> instead of <code>@slot</code>.</p>
</div>
</div>
<div id="man-special" class="section level2">
<h2>
<span class="header-section-number">10.8</span> Special characters<a class="anchor" aria-label="anchor" href="#man-special"><i class="fas fa-link"></i></a>
</h2>
<p>There are three special characters that need special handling if you want them to appear in the final documentation:</p>
<ul>
<li><p><code>@</code>, which usually marks the start of a roxygen tag. Use <code>@@</code> to insert a
literal <code>@</code> in the final documentation.</p></li>
<li><p><code>%</code>, which usually marks the start of a latex comment which continues to the
end of the line. Use <code>\%</code> to insert a literal <code>%</code> in the output document.
The escape is not needed in examples.</p></li>
<li><p><code>\</code>, which usually marks the start of a latex escaping. Use <code>\\</code> to
insert a literal <code>\</code> in the documentation.</p></li>
</ul>
</div>
<div id="dry2" class="section level2">
<h2>
<span class="header-section-number">10.9</span> Do repeat yourself<a class="anchor" aria-label="anchor" href="#dry2"><i class="fas fa-link"></i></a>
</h2>
<p>There is a tension between the DRY (don’t repeat yourself) principle of programming and the need for documentation to be self-contained. It’s frustrating to have to navigate through multiple help files in order to pull together all the pieces you need. Roxygen2 provides two ways to avoid repetition in the source, while still assembling everything into one documentation file:</p>
<ul>
<li><p>The ability to reuse parameter documentation with <code>@inheritParams</code>.</p></li>
<li><p>The ability to document multiple functions in the same place with
<code>@describeIn</code> or <code>@rdname</code></p></li>
</ul>
<div id="inheriting-parameters-from-other-functions" class="section level3">
<h3>
<span class="header-section-number">10.9.1</span> Inheriting parameters from other functions<a class="anchor" aria-label="anchor" href="#inheriting-parameters-from-other-functions"><i class="fas fa-link"></i></a>
</h3>
<p>You can inherit parameter descriptions from other functions using <code>@inheritParams source_function</code>. This tag will bring in all documentation for parameters that are undocumented in the current function, but documented in the source function. The source can be a function in the current package, via <code>@inheritParams function</code>, or another package, via <code>@inheritParams package::function</code>. For example the following documentation:</p>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @param a This is the first argument</span>
<span class="va">foo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="va">a</span> <span class="op">+</span> <span class="fl">10</span>

<span class="co">#' @param b This is the second argument</span>
<span class="co">#' @inheritParams foo</span>
<span class="va">bar</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">foo</span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="op">*</span> <span class="fl">10</span>
<span class="op">}</span></code></pre></div>
<p>is equivalent to</p>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @param a This is the first argument</span>
<span class="co">#' @param b This is the second argument</span>
<span class="va">bar</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">foo</span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="op">*</span> <span class="fl">10</span>
<span class="op">}</span></code></pre></div>
<p>Note that inheritance works recursively, so you can inherit documentation from a function that has inherited it from elsewhere.</p>
</div>
<div id="multiple-man" class="section level3">
<h3>
<span class="header-section-number">10.9.2</span> Documenting multiple functions in the same file<a class="anchor" aria-label="anchor" href="#multiple-man"><i class="fas fa-link"></i></a>
</h3>
<p>You can document multiple functions in the same file by using either <code>@rdname</code> or <code>@describeIn</code>. However, it’s a technique best used with caution: documenting too many functions in one place leads to confusing documentation. You should use it when functions have very similar arguments, or have complementary effects (e.g., <code><a href="https://rdrr.io/r/base/connections.html">open()</a></code> and <code><a href="https://rdrr.io/r/base/connections.html">close()</a></code> methods).</p>
<p><code>@describeIn</code> is designed for the most common cases:</p>
<ul>
<li>Documenting methods in a generic.</li>
<li>Documenting methods in a class.</li>
<li>Documenting functions with the same (or similar) arguments.</li>
</ul>
<p>It generates a new section, named either “Methods (by class)”, “Methods (by generic)” or “Functions”. The section contains a bulleted list describing each function. They’re labelled so that you know what function or method it’s talking about. Here’s an example, documenting an imaginary new generic:</p>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Foo bar generic</span>
<span class="co">#'</span>
<span class="co">#' @param x Object to foo.</span>
<span class="va">foobar</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/UseMethod.html">UseMethod</a></span><span class="op">(</span><span class="st">"foobar"</span><span class="op">)</span>

<span class="co">#' @describeIn foobar Difference between the mean and the median</span>
<span class="va">foobar.numeric</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>

<span class="co">#' @describeIn foobar First and last values pasted together in a string.</span>
<span class="va">foobar.character</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"-"</span>, <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p>An alternative to <code>@describeIn</code> is <code>@rdname</code>. It overrides the default file name generated by roxygen and merges documentation for multiple objects into one file. This gives you the complete freedom to combine documentation as you see fit.</p>
<p>There are two ways to use <code>@rdname</code>. You can add documentation to an existing function:</p>
<div class="sourceCode" id="cb152"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Basic arithmetic</span>
<span class="co">#'</span>
<span class="co">#' @param x,y numeric vectors.</span>
<span class="va">add</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span>

<span class="co">#' @rdname add</span>
<span class="va">times</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="va">x</span> <span class="op">*</span> <span class="va">y</span></code></pre></div>
<p>Or, you can create a dummy documentation file by documenting <code>NULL</code> and setting an informative <code>@name</code>.</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Basic arithmetic</span>
<span class="co">#'</span>
<span class="co">#' @param x,y numeric vectors.</span>
<span class="co">#' @name arith</span>
<span class="cn">NULL</span>
<span class="co">#&gt; NULL</span>

<span class="co">#' @rdname arith</span>
<span class="va">add</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span>

<span class="co">#' @rdname arith</span>
<span class="va">times</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="va">x</span> <span class="op">*</span> <span class="va">y</span></code></pre></div>
</div>
</div>
<div id="text-formatting" class="section level2">
<h2>
<span class="header-section-number">10.10</span> Text formatting reference sheet<a class="anchor" aria-label="anchor" href="#text-formatting"><i class="fas fa-link"></i></a>
</h2>
<p>Within roxygen tags, you use <code>.Rd</code> syntax to format text. This vignette shows you examples of the most important commands. The full details are described in <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Marking-text">R extensions</a>.</p>
<p>Note that <code>\</code> and <code>%</code> are special characters in the Rd format. To insert a literal <code>%</code> or <code>\</code>, escape them with a backslash <code>\\</code>, <code>\%</code>.</p>
<div id="character-formatting" class="section level3">
<h3>
<span class="header-section-number">10.10.1</span> Character formatting<a class="anchor" aria-label="anchor" href="#character-formatting"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p><code>\emph{italics}</code>: <em>italics</em>.</p></li>
<li><p><code>\strong{bold}</code>: <strong>bold</strong>.</p></li>
<li><p><code>\code{r_function_call(with = "arguments")}</code>:
<code>r_function_call(with = "arguments")</code> (format inline code)</p></li>
<li><p><code>\preformatted{}</code>: format text as-is, can be used for multi-line code</p></li>
</ul>
</div>
<div id="links" class="section level3">
<h3>
<span class="header-section-number">10.10.2</span> Links<a class="anchor" aria-label="anchor" href="#links"><i class="fas fa-link"></i></a>
</h3>
<p>To other documentation:</p>
<ul>
<li><p><code>\code{\link{function}}</code>: function in this package.</p></li>
<li><p><code>\code{\link[MASS]{abbey}}</code>: function in another package.</p></li>
<li><p><code>\link[=dest]{name}</code>: link to dest, but show name.</p></li>
<li><p><code>\code{\link[MASS:abbey]{name}}</code>: link to function in another package, but show name.</p></li>
<li><p><code>\linkS4class{abc}</code>: link to an S4 class.</p></li>
</ul>
<p>To the web:</p>
<ul>
<li><p><code>\url{http://rstudio.com}</code>: a url.</p></li>
<li><p><code>\href{http://rstudio.com}{Rstudio}</code>:, a url with custom link text.</p></li>
<li><p><code>\email{hadley@@rstudio.com}</code> (note the doubled <code>@</code>): an email address.</p></li>
</ul>
</div>
<div id="lists" class="section level3">
<h3>
<span class="header-section-number">10.10.3</span> Lists<a class="anchor" aria-label="anchor" href="#lists"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<p>Ordered (numbered) lists:</p>
<div class="sourceCode" id="cb154"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' \enumerate{</span>
<span class="co">#'   \item First item</span>
<span class="co">#'   \item Second item</span>
<span class="co">#' }</span></code></pre></div>
</li>
<li>
<p>Unordered (bulleted) lists:</p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' \itemize{</span>
<span class="co">#'   \item First item</span>
<span class="co">#'   \item Second item</span>
<span class="co">#' }</span></code></pre></div>
</li>
<li>
<p>Definition (named) lists:</p>
<div class="sourceCode" id="cb156"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' \describe{</span>
<span class="co">#'   \item{One}{First item}</span>
<span class="co">#'   \item{Two}{Second item}</span>
<span class="co">#' }</span></code></pre></div>
</li>
</ul>
</div>
<div id="mathematics" class="section level3">
<h3>
<span class="header-section-number">10.10.4</span> Mathematics<a class="anchor" aria-label="anchor" href="#mathematics"><i class="fas fa-link"></i></a>
</h3>
<p>You can use standard LaTeX math (with no extensions). Choose between either inline or block display:</p>
<ul>
<li><p><code>\eqn{a + b}</code>: inline equation.</p></li>
<li><p><code>\deqn{a + b}</code>: display (block) equation.</p></li>
</ul>
</div>
<div id="tables" class="section level3">
<h3>
<span class="header-section-number">10.10.5</span> Tables<a class="anchor" aria-label="anchor" href="#tables"><i class="fas fa-link"></i></a>
</h3>
<p>Tables are created with <code>\tabular{}</code>. It has two arguments:</p>
<ol style="list-style-type: decimal">
<li><p>Column alignment, specified by letter for each column (<code>l</code> = left, <code>r</code> = right,
<code>c</code> = centre.)</p></li>
<li><p>Table contents, with columns separated by <code>\tab</code> and rows by <code>\cr</code>.</p></li>
</ol>
<p>The following function turns an R data frame into the correct format. It ignores column and row names, but should get you started.</p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tabular</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>

  <span class="va">align</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="st">"r"</span> <span class="kw">else</span> <span class="st">"l"</span>
  <span class="va">col_align</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">align</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html">character</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>

  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">format</span>, <span class="va">...</span><span class="op">)</span>
  <span class="va">contents</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="st">"paste"</span>,
    <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">cols</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>sep <span class="op">=</span> <span class="st">" \\tab "</span>, collapse <span class="op">=</span> <span class="st">"\\cr\n  "</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"\\tabular{"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">col_align</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span>, <span class="st">"}{\n  "</span>,
    <span class="va">contents</span>, <span class="st">"\n}\n"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu">tabular</span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; \tabular{rrrrr}{</span>
<span class="co">#&gt;   21.0 \tab 6 \tab 160 \tab 110 \tab 3.90\cr</span>
<span class="co">#&gt;   21.0 \tab 6 \tab 160 \tab 110 \tab 3.90\cr</span>
<span class="co">#&gt;   22.8 \tab 4 \tab 108 \tab  93 \tab 3.85\cr</span>
<span class="co">#&gt;   21.4 \tab 6 \tab 258 \tab 110 \tab 3.08\cr</span>
<span class="co">#&gt;   18.7 \tab 8 \tab 360 \tab 175 \tab 3.15</span>
<span class="co">#&gt; }</span></code></pre></div>
</div>
<div id="notes" class="section level3">
<h3>
<span class="header-section-number">10.10.6</span> Notes<a class="anchor" aria-label="anchor" href="#notes"><i class="fas fa-link"></i></a>
</h3>

</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="license.html"><span class="header-section-number">9</span> Licensing</a></div>
<div class="next"><a href="vignettes.html"><span class="header-section-number">11</span> Vignettes: long-form documentation</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#man"><span class="header-section-number">10</span> Object documentation</a></li>
<li><a class="nav-link" href="#man-workflow"><span class="header-section-number">10.1</span> The documentation workflow</a></li>
<li><a class="nav-link" href="#man-workflow-2"><span class="header-section-number">10.2</span> Alternative documentation workflow</a></li>
<li><a class="nav-link" href="#roxygen-comments"><span class="header-section-number">10.3</span> Roxygen comments</a></li>
<li><a class="nav-link" href="#man-functions"><span class="header-section-number">10.4</span> Documenting functions</a></li>
<li><a class="nav-link" href="#man-data"><span class="header-section-number">10.5</span> Documenting datasets</a></li>
<li><a class="nav-link" href="#man-packages"><span class="header-section-number">10.6</span> Documenting packages</a></li>
<li>
<a class="nav-link" href="#man-classes"><span class="header-section-number">10.7</span> Documenting classes, generics and methods</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#man-s3"><span class="header-section-number">10.7.1</span> S3</a></li>
<li><a class="nav-link" href="#man-s4"><span class="header-section-number">10.7.2</span> S4</a></li>
<li><a class="nav-link" href="#man-rc"><span class="header-section-number">10.7.3</span> RC</a></li>
</ul>
</li>
<li><a class="nav-link" href="#man-special"><span class="header-section-number">10.8</span> Special characters</a></li>
<li>
<a class="nav-link" href="#dry2"><span class="header-section-number">10.9</span> Do repeat yourself</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#inheriting-parameters-from-other-functions"><span class="header-section-number">10.9.1</span> Inheriting parameters from other functions</a></li>
<li><a class="nav-link" href="#multiple-man"><span class="header-section-number">10.9.2</span> Documenting multiple functions in the same file</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#text-formatting"><span class="header-section-number">10.10</span> Text formatting reference sheet</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#character-formatting"><span class="header-section-number">10.10.1</span> Character formatting</a></li>
<li><a class="nav-link" href="#links"><span class="header-section-number">10.10.2</span> Links</a></li>
<li><a class="nav-link" href="#lists"><span class="header-section-number">10.10.3</span> Lists</a></li>
<li><a class="nav-link" href="#mathematics"><span class="header-section-number">10.10.4</span> Mathematics</a></li>
<li><a class="nav-link" href="#tables"><span class="header-section-number">10.10.5</span> Tables</a></li>
<li><a class="nav-link" href="#notes"><span class="header-section-number">10.10.6</span> Notes</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/hadley/r-pkgs/blob/main/man.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/hadley/r-pkgs/edit/main/man.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R Packages</strong>" was written by Hadley Wickham, Jennifer Bryan. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
