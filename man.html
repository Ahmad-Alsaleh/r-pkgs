<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.32">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>R Packages (2e) - 16&nbsp; Function documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./vignettes.html" rel="next">
<link href="./testing-advanced.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script defer="" data-domain="r-pkgs.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Function documentation</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R Packages (2e)</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/hadley/r-pkgs/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Welcome!</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Preface.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Getting started</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Whole-game.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The whole game</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Setup.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">System setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Structure.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Package structure and state</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Workflow101.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fundamental development workflows</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Package-within.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The package within</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Package components</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Code.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">R code</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misc.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Other components</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Package metadata</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Metadata.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title"><code>DESCRIPTION</code> and <code>NAMESPACE</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dependencies.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Dependencies: What does your package need?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./license.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Licensing</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Testing</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-basics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Testing basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-design.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Designing your test suite</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-advanced.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Advanced testing techniques</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Documentation</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./man.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Function documentation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vignettes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Vignettes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./other-markdown.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Other markdown files</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./website.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Website</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">Maintenance and distribution</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./check.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title"><code>R CMD check</code></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./continuous-integration.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Continuous integration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./release.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Releasing to CRAN</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lifecycle.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lifecycle</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"> <span class="header-section-number">16.1</span> Introduction</a></li>
  <li>
<a href="#roxygen2-basics" id="toc-roxygen2-basics" class="nav-link" data-scroll-target="#roxygen2-basics"> <span class="header-section-number">16.2</span> roxygen2 basics</a>
  <ul class="collapse">
<li><a href="#man-workflow" id="toc-man-workflow" class="nav-link" data-scroll-target="#man-workflow"> <span class="header-section-number">16.2.1</span> The documentation workflow</a></li>
  <li><a href="#roxygen-comments" id="toc-roxygen-comments" class="nav-link" data-scroll-target="#roxygen-comments"> <span class="header-section-number">16.2.2</span> roxygen2 comments, blocks, and tags</a></li>
  </ul>
</li>
  <li>
<a href="#title-description-details" id="toc-title-description-details" class="nav-link" data-scroll-target="#title-description-details"> <span class="header-section-number">16.3</span> Title, description, details</a>
  <ul class="collapse">
<li><a href="#title" id="toc-title" class="nav-link" data-scroll-target="#title"> <span class="header-section-number">16.3.1</span> Title</a></li>
  <li><a href="#description" id="toc-description" class="nav-link" data-scroll-target="#description"> <span class="header-section-number">16.3.2</span> Description</a></li>
  <li><a href="#details" id="toc-details" class="nav-link" data-scroll-target="#details"> <span class="header-section-number">16.3.3</span> Details</a></li>
  </ul>
</li>
  <li>
<a href="#arguments" id="toc-arguments" class="nav-link" data-scroll-target="#arguments"> <span class="header-section-number">16.4</span> Arguments</a>
  <ul class="collapse">
<li><a href="#multiple-arguments" id="toc-multiple-arguments" class="nav-link" data-scroll-target="#multiple-arguments"> <span class="header-section-number">16.4.1</span> Multiple arguments</a></li>
  <li><a href="#inheriting-arguments" id="toc-inheriting-arguments" class="nav-link" data-scroll-target="#inheriting-arguments"> <span class="header-section-number">16.4.2</span> Inheriting arguments</a></li>
  <li><a href="#multiple-functions-in-one-file" id="toc-multiple-functions-in-one-file" class="nav-link" data-scroll-target="#multiple-functions-in-one-file"> <span class="header-section-number">16.4.3</span> Multiple functions in one file</a></li>
  </ul>
</li>
  <li><a href="#return-value" id="toc-return-value" class="nav-link" data-scroll-target="#return-value"> <span class="header-section-number">16.5</span> Return value</a></li>
  <li>
<a href="#sec-examples" id="toc-sec-examples" class="nav-link" data-scroll-target="#sec-examples"> <span class="header-section-number">16.6</span> Examples</a>
  <ul class="collapse">
<li><a href="#contents" id="toc-contents" class="nav-link" data-scroll-target="#contents"> <span class="header-section-number">16.6.1</span> Contents</a></li>
  <li><a href="#pack-it-in-pack-it-out" id="toc-pack-it-in-pack-it-out" class="nav-link" data-scroll-target="#pack-it-in-pack-it-out"> <span class="header-section-number">16.6.2</span> Pack it in; pack it out</a></li>
  <li><a href="#errors" id="toc-errors" class="nav-link" data-scroll-target="#errors"> <span class="header-section-number">16.6.3</span> Errors</a></li>
  <li><a href="#dependencies" id="toc-dependencies" class="nav-link" data-scroll-target="#dependencies"> <span class="header-section-number">16.6.4</span> Dependencies</a></li>
  <li><a href="#conditional-execution" id="toc-conditional-execution" class="nav-link" data-scroll-target="#conditional-execution"> <span class="header-section-number">16.6.5</span> Conditional execution</a></li>
  <li><a href="#intermixing-examples-and-text" id="toc-intermixing-examples-and-text" class="nav-link" data-scroll-target="#intermixing-examples-and-text"> <span class="header-section-number">16.6.6</span> Intermixing examples and text</a></li>
  <li><a href="#organisation" id="toc-organisation" class="nav-link" data-scroll-target="#organisation"> <span class="header-section-number">16.6.7</span> Organisation</a></li>
  </ul>
</li>
  <li><a href="#links-and-images" id="toc-links-and-images" class="nav-link" data-scroll-target="#links-and-images"> <span class="header-section-number">16.7</span> Links and images</a></li>
  <li>
<a href="#re-using-documentation" id="toc-re-using-documentation" class="nav-link" data-scroll-target="#re-using-documentation"> <span class="header-section-number">16.8</span> Re-using documentation</a>
  <ul class="collapse">
<li><a href="#inherits" id="toc-inherits" class="nav-link" data-scroll-target="#inherits"> <span class="header-section-number">16.8.1</span> <code>@inherits</code></a></li>
  <li><a href="#child-documents" id="toc-child-documents" class="nav-link" data-scroll-target="#child-documents"> <span class="header-section-number">16.8.2</span> Child documents</a></li>
  <li><a href="#inline-r-code" id="toc-inline-r-code" class="nav-link" data-scroll-target="#inline-r-code"> <span class="header-section-number">16.8.3</span> Inline R code</a></li>
  </ul>
</li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/hadley/r-pkgs/edit/main/man.Rmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/hadley/r-pkgs/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-man" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Function documentation</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header><div class="cell">
<div class="cell-output-display">
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Second edition
</div>
</div>
<div class="callout-body-container callout-body">
<p>You are reading the work-in-progress second edition of R Packages. This chapter is undergoing heavy restructuring and may be confusing or incomplete.</p>
</div>
</div>
</div>
</div>
<section id="introduction" class="level2" data-number="16.1"><h2 data-number="16.1" class="anchored" data-anchor-id="introduction">
<span class="header-section-number">16.1</span> Introduction</h2>
<p>Documentation is one of the most important aspects of a good package: without it, users won’t know how to use your package! Documentation is also useful for future-you (so you remember what your functions were supposed to do) and for developers extending your package.</p>
<p>In this chapter, you’ll learn about function documentation, as accessed by <code>?</code> or <code><a href="https://rdrr.io/r/utils/help.html">help()</a></code>. Function documentation works like a dictionary: it’s helpful if you want to know what a function does, but it won’t help you find the right function for a new situation. That’s one of the jobs of vignettes, which you’ll learn about in the next chapter. In this chapter we’ll focus on documenting functions, but the same ideas apply to documenting datasets, classes and generics, and packages.</p>
<p>Base R provides a standard way of documenting the functions in a package: you write <code>.Rd</code> files in the <code>man/</code> directory. These files use a custom syntax, loosely based on LaTeX, that are rendered to HTML, plain text, or pdf for viewing. We are not going to use these files directly. Instead, we’ll use the roxygen2 package to generate them from specially formatted comments. There are a few advantages to using roxygen2:</p>
<ul>
<li><p>Code and documentation are intermingled so that when you modify your code, it’s easy to remember to also update your documentation.</p></li>
<li><p>You can write using markdown, rather than having to remember another text formatting syntax.</p></li>
<li><p>roxygen2 dynamically inspects the objects that it documents, so you can skip some boilerplate that you’d otherwise need to write by hand.</p></li>
<li><p>It abstracts provides a number of tools for sharing text between documentation topics and even between topics and vignettes.</p></li>
</ul>
<p>You’ll see these files when you work with them in git, but you’ll otherwise rarely need to look at them.</p>
</section><section id="roxygen2-basics" class="level2" data-number="16.2"><h2 data-number="16.2" class="anchored" data-anchor-id="roxygen2-basics">
<span class="header-section-number">16.2</span> roxygen2 basics</h2>
<p>To get started, we’ll work through the basic roxygen2 workflow and discuss the overall structure of roxygen2 comments which are organised into blocks and tags.</p>
<section id="man-workflow" class="level3" data-number="16.2.1"><h3 data-number="16.2.1" class="anchored" data-anchor-id="man-workflow">
<span class="header-section-number">16.2.1</span> The documentation workflow</h3>
<p>The documentation workflow starts when you add roxygen comments, comments that start with <code>'</code>, to your source file. Here’s a simple example:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' Add together two numbers</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @param x A number.</span></span>
<span><span class="co">#' @param y A number.</span></span>
<span><span class="co">#' @return The sum of `x` and `y`.</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' add(1, 1)</span></span>
<span><span class="co">#' add(10, 1)</span></span>
<span><span class="va">add</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">+</span> <span class="va">y</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then you’ll press Ctrl/Cmd + Shift + D (or run <code><a href="https://devtools.r-lib.org/reference/document.html">devtools::document()</a></code>) to run <code><a href="https://roxygen2.r-lib.org/reference/roxygenize.html">roxygen2::roxygenise()</a></code> which generates a <code>man/add.Rd</code> that looks like this:</p>
<pre><code>% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/across.R
\name{add}
\alias{add}
\title{Add together two numbers}
\usage{
add(x, y)
}
\arguments{
\item{x}{A number.}

\item{y}{A number.}
}
\value{
The sum of \code{x} and \code{y}.
}
\description{
Add together two numbers
}
\examples{
add(1, 1)
add(10, 1)
}</code></pre>
<p>If you’re familiar with LaTeX, this should look familiar since the <code>.Rd</code> format is loosely based on it, and you can read more about it in <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Rd-format"><em>R extensions</em></a>. You’ll commit this file to git (since it’s what R requires to make its interactive documentation work), but typically you won’t otherwise need to look at it.</p>
<p>When you use <code>?add</code>, <code>help("add")</code>, or <code>example("add")</code>, R looks for an <code>.Rd</code> file containing <code>\alias{"add"}</code>. It then parses the file, converts it into HTML and displays it. Here’s what the result looks like in RStudio:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/man-add.png" class="img-fluid"></p>
</div>
</div>
<p>To preview the development documentation, devtools uses some tricks to override the usual help functions so they know where to look in your source packages. To activate these tricks, you need to run <code><a href="https://devtools.r-lib.org/reference/load_all.html">devtools::load_all()</a></code> once. So if development the documentation doesn’t appear, you may need to load your package first.</p>
<p>To summarize, there are four steps in the basic roxygen2 workflow:</p>
<ol type="1">
<li><p>Add roxygen2 comments to your <code>.R</code> files.</p></li>
<li><p>Run press Ctrl/Cmd + Shift + D or <code><a href="https://devtools.r-lib.org/reference/document.html">devtools::document()</a></code> to convert roxygen comments to <code>.Rd</code> files.</p></li>
<li><p>Preview documentation with <code>?</code>.</p></li>
<li><p>Rinse and repeat until the documentation looks the way you want.</p></li>
</ol></section><section id="roxygen-comments" class="level3" data-number="16.2.2"><h3 data-number="16.2.2" class="anchored" data-anchor-id="roxygen-comments">
<span class="header-section-number">16.2.2</span> roxygen2 comments, blocks, and tags</h3>
<p>Now that you understand the basic workflow, lets talk a little more about roxygen2’s syntax. roxygen2 comments start with <code>#'</code> and the set of roxygen2 comments preceding a function is called a <strong>block</strong>. Blocks are broken up by <strong>tags</strong>, which look like <code>@tagName tagValue</code>. The content of a tag extends from the end of the tag name to the start of the next tag<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. A block can contain text before the first tag which is called the <strong>introduction</strong>. By default, each roxygen2 block will generate a single documentation <strong>topic</strong>, corresponding to one <code>.Rd.</code> file in the <code>man</code> directory.</p>
<p>Throughout this chapter I’m going to show you roxygen2 comments from real tidyverse packages, focusing on stringr since the functions there tend to be fairly straightforward leading to documentation that easier to excerpt. Here’s a simple example to start with using the documentation for <code><a href="https://stringr.tidyverse.org/reference/str_unique.html">stringr::str_unique()</a></code>:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' Remove duplicated strings</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' `str_unique()` removes duplicated values, with optional control over</span></span>
<span><span class="co">#' how duplication is measured.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param string A character vector to return unique entries.</span></span>
<span><span class="co">#' @param ... Other options used to control matching behavior between duplicate</span></span>
<span><span class="co">#'   strings. Passed on to [stringi::stri_opts_collator()].</span></span>
<span><span class="co">#' @returns A character vector.</span></span>
<span><span class="co">#' @seealso [unique()], [stringi::stri_unique()] which this function wraps.</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' str_unique(c("a", "b", "c", "b", "a"))</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' # Use ... to pass additional arguments to stri_unique()</span></span>
<span><span class="co">#' str_unique(c("motley", "mötley", "pinguino", "pingüino"))</span></span>
<span><span class="co">#' str_unique(c("motley", "mötley", "pinguino", "pingüino"), strength = 1)</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">str_unique</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">string</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here the introduction includes the title (“Remove duplicated strings”) and a basic description of what the function does. It’s followed by five tags, two <code>@params</code>, one <code>@returns</code>, one <code>@seealso</code>, one <code>@example</code>, and one <code>@export</code>. Note that I’ve wrapped each line of the roxygen2 block 80 characters wide, to match the wrapping of my code, and I’ve indented the second and subsequent lines of the long <code>@param</code> tag so it’s easier to scan. You can get more documentation style advice in the <a href="https://style.tidyverse.org/documentation.html">tidyverse style guide</a>.</p>
<p>The following sections will work through the most important tags. We’ll start with the introduction which provides the title, description, and details, then we’ll cover the inputs (the function arguments), outputs (the return value), and examples.</p>
</section></section><section id="title-description-details" class="level2" data-number="16.3"><h2 data-number="16.3" class="anchored" data-anchor-id="title-description-details">
<span class="header-section-number">16.3</span> Title, description, details</h2>
<p>The introduction of the block provides the title, description, and, optionally, the details, of the function:</p>
<ul>
<li><p>The <strong>title</strong> is taken from the first sentence. The title is shown in various function indexes so is what the user will see when browsing functions.</p></li>
<li><p>The <strong>description</strong> is taken from the next paragraph. It comes first in the documentation and should briefly describe the most important features of the function.</p></li>
<li><p>The <strong>details</strong> are taken from any additional text. Details are optional, but can be any length so are useful if want to dig deep into some important aspect of the function.</p></li>
</ul>
<p>The following sections describe each component in more detail, and then discuss a few useful related tags.</p>
<section id="title" class="level3" data-number="16.3.1"><h3 data-number="16.3.1" class="anchored" data-anchor-id="title">
<span class="header-section-number">16.3.1</span> Title</h3>
<p>The title should be written in sentence case and not end in a full stop. When figuring out what to use as a title, I think it’s most important to consider the functions in your package holistically. When the user is skimming an index of functions, how will they know which function to use? What do functions have in common which doesn’t need to be repeated in every title? What is unique to that function and should be highlighted?</p>
<p>As an example, take the titles of some of the key dplyr functions:</p>
<ul>
<li>
<code>mutate()</code>: Create, modify, and delete columns.</li>
<li>
<code>summarise()</code>: Summarise each group to fewer rows.</li>
<li>
<code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code>: Subset rows using column values.</li>
<li>
<code>select()</code>: Subset columns using their names and types.</li>
<li>
<code>arrange()</code>: Arrange rows by column values.</li>
</ul>
<p>Here we’ve tried to succinctly describe what the function does, making sure to describe whether it affects rows, columns, or groups. Where possible, we’ve tried to use synonyms of the function name in the title to hopefully give folks another chance to understand the intent of the function.</p>
<p>At the time we wrote this, I don’t think the function titles for stringr were that successful. But they provide a useful negative case study.</p>
<ul>
<li>
<code>str_detect()</code>: Detect the presence or absence of a pattern in a string.</li>
<li>
<code>str_extract()</code>: Extract matching patterns from a string.</li>
<li>
<code>str_locate()</code>: Locate the position of patterns in a string.</li>
<li>
<code>str_match()</code>: Extract matched groups from a string.</li>
</ul>
<p>There’s a lot of repetition (“pattern”, “from a string”) and the verb used for the function name is repeated in title, so if you don’t understand the function already, the title seems unlikely to help much. (In hindsight, it also seems like the function names could have been better chosen.) Hopefully we’ll have improved those titles by the time you read this.</p>
</section><section id="description" class="level3" data-number="16.3.2"><h3 data-number="16.3.2" class="anchored" data-anchor-id="description">
<span class="header-section-number">16.3.2</span> Description</h3>
<p>The goal of the description is to summarize the goal of the function, usually in under a paragraph. This can be challenging to because the title of the function is also a very concise summary of the function. And it’s often especially hard if you’ve just written the function because the purpose seems so intuitively obvious it’s hard to understand why anyone would need an explanation.</p>
<p>It’s okay for the description to be a little duplicative of the rest of the documentation; it’s often useful for the reader to see the same thing expressed in two different ways. It’s a little extra work keeping it all up to date, but the extra effort is often worth it.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' Detect the presence/absence of a pattern</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' `str_detect()` returns a logical vector `TRUE` if `pattern` is found within</span></span>
<span><span class="co">#' each element of `string` or a `FALSE` if not. It's equivalent</span></span>
<span><span class="co">#' `grepl(pattern, string)`.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you want to use multiple paragraphs or other structures like a bulleted list, you can use the explicit <code>@description</code> tag. Here’s an example from <code><a href="https://stringr.tidyverse.org/reference/str_like.html">stringr::str_like()</a></code>, which mimics the <code>LIKE</code> operator from SQL:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' Detect the a pattern in the same way as `SQL`'s `LIKE` operator.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @description</span></span>
<span><span class="co">#' `str_like()` follows the conventions of the SQL `LIKE` operator:</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' * Must match the entire string.</span></span>
<span><span class="co">#' * `_` matches a single character (like `.`).</span></span>
<span><span class="co">#' * `%` matches any number of characters (like `.*`).</span></span>
<span><span class="co">#' * `\%` and `\_` match literal `%` and `_`.</span></span>
<span><span class="co">#' * The match is case insensitive by default.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also use explicit <code>@title</code> and <code>@details</code> tags if needed, but we don’t generally recommend it because it adds extra noise to the docs without enabling any additional functionality.</p>
</section><section id="details" class="level3" data-number="16.3.3"><h3 data-number="16.3.3" class="anchored" data-anchor-id="details">
<span class="header-section-number">16.3.3</span> Details</h3>
<p>If you have a lot of information to convey in the details, I recommend using markdown headings to break up the documentation in to sections. Here’s a example from <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code>. We’ve elided some of the details to keep this example short, but you should still get a sense of how we used headings to break up the content in to skimmable chunks.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' Create, modify, and delete columns</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' `mutate()` adds new variables and preserves existing ones;</span></span>
<span><span class="co">#' `transmute()` adds new variables and drops existing ones.</span></span>
<span><span class="co">#' New variables overwrite existing variables of the same name.</span></span>
<span><span class="co">#' Variables can be removed by setting their value to `NULL`.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' # Useful mutate functions</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' * [`+`], [`-`], [log()], etc., for their usual mathematical meanings</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' ...</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' # Grouped tibbles</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' Because mutating expressions are computed within groups, they may</span></span>
<span><span class="co">#' yield different results on grouped tibbles. This will be the case</span></span>
<span><span class="co">#' as soon as an aggregating, lagging, or ranking function is</span></span>
<span><span class="co">#' involved. Compare this ungrouped mutate:</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that even though these headings come immediately after the description they are shown much later (after the function arguments and return value) in the rendered documentation.</p>
<p>In older code, you might also see the use of <code>@section title:</code> which was used to create headings before roxygen2 fully supported RMarkdown. You can move these below the description and turn into markdown headings.</p>
</section></section><section id="arguments" class="level2" data-number="16.4"><h2 data-number="16.4" class="anchored" data-anchor-id="arguments">
<span class="header-section-number">16.4</span> Arguments</h2>
<p>For most functions, the bulk of your work will go towards documenting how each argument affects the output of the function. For this purpose, you’ll use <code>@param</code> (short for parameter, a synonym of argument) followed by the argument name and a description of its action.</p>
<p>The most important job of the description is to provide a succinct summary of the allowed inputs and what the parameter does. For example, here’s <code>str_detect()</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @param string Input vector. Either a character vector, or something</span></span>
<span><span class="co">#'  coercible to one.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And here are three of the arguments to <code>str_flatten()</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @param collapse String to insert between each piece. Defaults to `""`.</span></span>
<span><span class="co">#' @param last Optional string use in place of final separator.</span></span>
<span><span class="co">#' @param na.rm Remove missing values? If `FALSE` (the default), the result </span></span>
<span><span class="co">#'   will be `NA` if any element of `string` is `NA`.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that <code>@param collapse</code> and <code>@param na.rm</code> describes the default argument. This is good practice because the function usage (which shows the default values) and the argument description are quite far apart in the docs. The primary downside is that introducing this duplication means that you’ll need to update the docs if you change the default value; we believe this small amount of extra work is worth it to make the life of the user easier.</p>
<p>If an argument has a fixed set of possible parameters, you should list them. If they’re simple, you can just list them in a sentence, like in <code>str_trim()</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @param side Side on which to remove whitespace: `"left"`, `"right"`, or</span></span>
<span><span class="co">#'   `"both"` (the default).</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If they need more explanation, you might use a bulleted list, as in <code>str_wrap()</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @param whitespace_only A boolean.</span></span>
<span><span class="co">#'   * `TRUE` (the default): wrapping will only occur at whitespace.</span></span>
<span><span class="co">#'   * `FALSE`: can break on any non-word character (e.g. `/`, `-`).</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The documentation for most arguments tends to be relatively short, often one or two sentences. But you should take as much space as you need, and you’ll see some examples of multi-paragraph argument documentation shortly.</p>
<section id="multiple-arguments" class="level3" data-number="16.4.1"><h3 data-number="16.4.1" class="anchored" data-anchor-id="multiple-arguments">
<span class="header-section-number">16.4.1</span> Multiple arguments</h3>
<p>If the behavior of multiple arguments is tightly coupled, you can document them together by separating the names with commas (with no spaces). For example, in <code>str_equal()</code> <code>x</code> and <code>y</code> are interchangeable, so they’re documented together:</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @param x,y A pair of character vectors.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In <code>str_sub()</code> <code>start</code> and <code>end</code> define the range of characters to replace, and you can use just <code>start</code> if you pass in a two-column matrix. So it makes sense to document them together:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @param start,end Two integer vectors. `start` gives the position</span></span>
<span><span class="co">#'   of the first character (defaults to first), `end` gives the position</span></span>
<span><span class="co">#'   of the last (defaults to last character). Alternatively, pass a two-column</span></span>
<span><span class="co">#'   matrix to `start`.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#'   Negative values count backwards from the last character.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In <code>str_wrap()</code> <code>indent</code> and <code>exdent</code> define the indentation for the first line and all subsequent lines respectively:</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @param indent,exdent A non-negative integer giving the indent for the</span></span>
<span><span class="co">#'   first line (`indent`) and all subsequent lines (`exdent`).</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="inheriting-arguments" class="level3" data-number="16.4.2"><h3 data-number="16.4.2" class="anchored" data-anchor-id="inheriting-arguments">
<span class="header-section-number">16.4.2</span> Inheriting arguments</h3>
<p>If your package contains many closely related functions, it’s common for them to have arguments with the same name and meaning. It would be annoying and error prone to copy and paste the same <code>@param</code> documentation to every function so roxygen2 provides <code>@inheritParams</code> which allows you to inherit argument documentation from another package.</p>
<p>stringr uses <code>@inheritParams</code> extensively because most functions have <code>string</code> and <code>pattern</code> arguments. So <code>str_detect()</code> documents them in detail:</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @param string Input vector. Either a character vector, or something</span></span>
<span><span class="co">#'  coercible to one.</span></span>
<span><span class="co">#' @param pattern Pattern to look for.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#'   The default interpretation is a regular expression, as described</span></span>
<span><span class="co">#'   `vignette("regular-expressions")`. Control options with [regex()].</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#'   Match a fixed string (i.e. by comparing only bytes), using</span></span>
<span><span class="co">#'   [fixed()]. This is fast, but approximate. Generally,</span></span>
<span><span class="co">#'   for matching human text, you'll want [coll()] which</span></span>
<span><span class="co">#'   respects character matching rules for the specified locale.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#'   Match character, word, line and sentence boundaries with</span></span>
<span><span class="co">#'   [boundary()]. An empty pattern, "", is equivalent to</span></span>
<span><span class="co">#'   `boundary("character")`.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then other stringr functions use <code>@inheritParams str_detect</code> to get a detailed documentation for <code>string</code> and <code>pattern</code> without having to duplicate that text.</p>
<p><code>@inheritParams</code> only inherits docs for arguments that aren’t already documented, so you can document some arguments and inherit others. <code>str_match()</code> uses this to inherit its standard <code>string</code> argument but document its unusual <code>pattern</code> argument:</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @inheritParams str_detect</span></span>
<span><span class="co">#' @param pattern Unlike other stringr functions, `str_match()` only supports</span></span>
<span><span class="co">#'   regular expressions, as described `vignette("regular-expressions")`. </span></span>
<span><span class="co">#'   The pattern should contain at least one capturing group.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can documentation from a function in another package but using the standard <code>::</code> notation: <code>@inheritParams package::function</code>. This can introduce one small annoyance: now the documentation for your package is no longer self-contained and the version of the remote package can affect the generated docs. This can introduce spurious diffs if you have multiple contributors with different versions installed.</p>
</section><section id="multiple-functions-in-one-file" class="level3" data-number="16.4.3"><h3 data-number="16.4.3" class="anchored" data-anchor-id="multiple-functions-in-one-file">
<span class="header-section-number">16.4.3</span> Multiple functions in one file</h3>
<p>There’s another powerful tool to share not just argument docs but all doc across multiple functions: <code>@rdname</code>. By default, each function gets its own documentation topic, but you can combine the documentation for <code>fun2</code> into <code>fun1</code> by using <code>@rdname fun1</code>.</p>
<p>For example, take <code>str_length()</code> and <code>str_width()</code> which provide two different ways of computing the size of a string. As you can see from the description, both functions are documented together, because this makes it easy to see how they differ:</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' The length/width of a string</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @description</span></span>
<span><span class="co">#' `str_length()` returns the number of codepoints in a string. These are</span></span>
<span><span class="co">#' the individual elements (which are often, but not always letters) that</span></span>
<span><span class="co">#' can be extracted with [str_sub()].</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' `str_width()` returns how much space the string will occupy when printed</span></span>
<span><span class="co">#' in a fixed width font (i.e. when printed in the console).</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' ...</span></span>
<span><span class="va">str_length</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">string</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This works because <code>str_width()</code> uses <code>@rdname str_length</code> so that its documentation is included an in existing topic:</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @rdname str_length</span></span>
<span><span class="va">str_width</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">string</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This technique is best used for functions that have not just similar arguments, but also similar return value and related examples, as discussed next.</p>
</section></section><section id="return-value" class="level2" data-number="16.5"><h2 data-number="16.5" class="anchored" data-anchor-id="return-value">
<span class="header-section-number">16.5</span> Return value</h2>
<p>As important as a function’s inputs are its outputs. Documenting the outputs is the job of the <code>@returns</code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> tag. Here the goal of the docs is not to describe exactly how the values are computed (which is the job of the description and details), but to roughly describe the overall “shape” of the output, i.e.&nbsp;what sort of object it is, and its dimensions (if that makes sense). For example, if your function returns a vector you might describe its type and length, or if your function returns a data frame you might describe the names and types of the columns and the expected number of rows.</p>
<p>The return documentation for functions in stringr are straightforward because almost all functions return some type of vector with the same length as some input. For example, here’s <code>str_like()</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @returns A logical vector the same length as `string`.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In more complicated cases, it’s often easier to figure out what to describe by about the set of functions and how they differ. For example, most dplyr functions return data frames, so just saying <code>@return A data frame</code> is not useful. Instead we had to sit down and think about exactly what makes the functions different. It took some thinking, but we eventually decided it makes sense to describe each function in terms of how it affects the rows, the columns, the groups, and the attributes. For example, here’s <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code>:</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @returns</span></span>
<span><span class="co">#' An object of the same type as `.data`. The output has the following properties:</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' * Rows are a subset of the input, but appear in the same order.</span></span>
<span><span class="co">#' * Columns are not modified.</span></span>
<span><span class="co">#' * The number of groups may be reduced (if `.preserve` is not `TRUE`).</span></span>
<span><span class="co">#' * Data frame attributes are preserved.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>@return</code> is also a good place to describe any important warnings or errors that the user might see here. For example <code><a href="https://readr.tidyverse.org/reference/read_delim.html">readr::read_csv()</a></code>:</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @returns A [tibble()]. If there are parsing problems, a warning will alert you.</span></span>
<span><span class="co">#'   You can retrieve the full details by calling [problems()] on your dataset.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Submitting to CRAN
</div>
</div>
<div class="callout-body-container callout-body">
<p>For initial CRAN submission, all functions must document their a <code>@return</code> value. This is not required for subsequent submission, but it’s good practice. There’s currently no way to enforce this (we’re <a href="https://github.com/r-lib/roxygen2/issues/1334">working on it</a>) which is why you’ll notice some tidyverse functions lack documentation of their outputs.</p>
</div>
</div>
</section><section id="sec-examples" class="level2" data-number="16.6"><h2 data-number="16.6" class="anchored" data-anchor-id="sec-examples">
<span class="header-section-number">16.6</span> Examples</h2>
<p>Describing how a function works is useful, but showing how it works is often even better. That’s the purpose of the <code>@examples</code> tag, which uses executable R code to show what you can do with the function. Unlike other parts of the documentation where we’ve focused mainly on what you should write, here we’ll briefly give some advice as to what to put in the examples and then focus on the mechanics. The mechanics are more complex here because examples are commonly run in four different situations:</p>
<ul>
<li>Interactively using the <code><a href="https://rdrr.io/r/utils/example.html">example()</a></code> function.</li>
<li>When building your pkgdown website.</li>
<li>R CMD check on a computer you control (e.g.&nbsp;your computer and your CI/CD server).</li>
<li>R CMD check on a computer you don’t control (e.g.&nbsp;CRAN).</li>
</ul>
<section id="contents" class="level3" data-number="16.6.1"><h3 data-number="16.6.1" class="anchored" data-anchor-id="contents">
<span class="header-section-number">16.6.1</span> Contents</h3>
<p>Use examples to show the basic operation of the function, and then to highlight any particularly important properties. <code>str_detect()</code> starts by showing a few simple variations and then highlights are property you might easily miss from reading the docs: as well as passing a vector of strings and one pattern, you can also pass one string and vector of patterns.</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @examples</span></span>
<span><span class="co">#' fruit &lt;- c("apple", "banana", "pear", "pineapple")</span></span>
<span><span class="co">#' str_detect(fruit, "a")</span></span>
<span><span class="co">#' str_detect(fruit, "^a")</span></span>
<span><span class="co">#' str_detect(fruit, "a$")</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' # Also vectorised over pattern</span></span>
<span><span class="co">#' str_detect("aecfg", letters)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Try to stay focused on the most important features without getting into the weeds of every last edge case: if you make the examples too long, it becomes hard for the user to find the key application that they’re looking for. If you find yourself writing very long examples, it may be a sign that you should write a vignette instead.</p>
<p>Try and keep the examples focused on the function that you’re documenting. If you can make the point with a familiar built-in dataset, like&nbsp;<code>iris</code>, do that. If you find yourself needing to do a bunch of setup to create a dataset or object to use the in example, it may be a sign that you need to create a package dataset. See <a href="data.html"><span>Chapter&nbsp;8</span></a> for details.</p>
</section><section id="pack-it-in-pack-it-out" class="level3" data-number="16.6.2"><h3 data-number="16.6.2" class="anchored" data-anchor-id="pack-it-in-pack-it-out">
<span class="header-section-number">16.6.2</span> Pack it in; pack it out</h3>
<p>As much as possible, you want to keep your examples as self-contained as possible. You want to “take nothing but photographs and leaving nothing but footprints”. For example, this means:</p>
<ul>
<li>If you modify the global <code><a href="https://rdrr.io/r/base/options.html">options()</a></code>, make sure to reset them at the end of the example.</li>
<li>If you have to create a file, make sure to write somewhere in <code><a href="https://rdrr.io/r/base/tempfile.html">tempdir()</a></code> and make sure to delete it at the end of the example.</li>
<li>Don’t change the working directory.</li>
<li>Don’t write to the clipboard.</li>
</ul>
<p>These points can be in tension with good documentation if you’re trying to demonstrate functions that somehow change the state of the world. So if you’re finding it really hard to follow these rules, it may be that you need to switch to to different form of documentation.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Submitting to CRAN
</div>
</div>
<div class="callout-body-container callout-body">
<p>Many of these constraints are also mentioned in the <a href="https://cran.r-project.org/web/packages/policies.html">CRAN repository policy</a>, which you must adhere to when submitting to CRAN. Use find in page to search for “malicious or anti-social” to see the details.</p>
</div>
</div>
<p>Additionally, you want your examples to send the users on a short walk, not a long hike. Examples need to execute relatively quickly so users can run them, so it doesn’t take ages to make a website, your automated checks happen quickly, and it doesn’t take up computing resources when submitting to CRAN.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Submitting to CRAN
</div>
</div>
<div class="callout-body-container callout-body">
<p>If submitting to CRAN, all examples must run in under 10 minutes.</p>
</div>
</div>
</section><section id="errors" class="level3" data-number="16.6.3"><h3 data-number="16.6.3" class="anchored" data-anchor-id="errors">
<span class="header-section-number">16.6.3</span> Errors</h3>
<p>So what can you do if you want to include code that causes an error for the purposes of teaching. There are two basic options:</p>
<ul>
<li>You can wrap the code in <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> so that the error is shown, but doesn’t stop execution of the error.</li>
<li>You can wrap the code <code>\dontrun{}</code><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> so it is never run by <code><a href="https://rdrr.io/r/utils/example.html">example()</a></code>.</li>
</ul></section><section id="dependencies" class="level3" data-number="16.6.4"><h3 data-number="16.6.4" class="anchored" data-anchor-id="dependencies">
<span class="header-section-number">16.6.4</span> Dependencies</h3>
<p>You can only use packages in examples that you packages depends on (i.e.&nbsp;appears in imports or suggests). You do need to explicitly load these packages because example code is run in the user’s environment, not the package environment.</p>
<p>For either imported or suggested packages we reccomend using <code>::</code>, unless it’s really a lot of duplication.</p>
<p>Previously, we recommended protecting any suggested packages inside an if block that used <code>if (requireNamespace("suggested_package", quietly = TRUE))</code>. However, we no longer recommend that because:</p>
<ul>
<li>We expect that suggested packages are installed when running R CMD check (since they are effectively required for developers).</li>
<li>The cost of wrapping code in <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code> is high, because you don’t see intermediate results. And the cost for a package not being installed is low, because users generally know how to recognise the package not loaded error and can resolve themselves.</li>
</ul>
<p>As much as possible, avoid accessing websites in examples. If the website is down, your example will fail and hence <code>R CMD check</code> will error.</p>
</section><section id="conditional-execution" class="level3" data-number="16.6.5"><h3 data-number="16.6.5" class="anchored" data-anchor-id="conditional-execution">
<span class="header-section-number">16.6.5</span> Conditional execution</h3>
<p>In other cases, you might want code to run only in specific scenarios. In the most common case, you don’t want to run code on CRAN because you’re doing something that is usually best avoided (see below) or your examples need other setup that CRAN won’t have. In this case you can use <code>@examplesIf</code> instead of <code>@examples</code>. The code in an <code>@examplesIf</code> block will only be executed if some condition is <code>TRUE</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @examplesIf some_function()</span></span>
<span><span class="co">#' some_other_function()</span></span>
<span><span class="co">#' some_more_functions()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example, googledrive uses <code>@examplesIf</code> in almost every function because the examples can only work if you have an active, authenticated, connection to googledrive as judged by <code><a href="https://googledrive.tidyverse.org/reference/drive_has_token.html">googledrive::drive_has_token()</a></code>. For example, here’s <code><a href="https://googledrive.tidyverse.org/reference/drive_publish.html">googledrive::drive_publish()</a></code>:</p>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @examplesIf drive_has_token()</span></span>
<span><span class="co">#' # Create a file to publish</span></span>
<span><span class="co">#' file &lt;- drive_example_remote("chicken_sheet") %&gt;%</span></span>
<span><span class="co">#'   drive_cp()</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' # Publish file</span></span>
<span><span class="co">#' file &lt;- drive_publish(file)</span></span>
<span><span class="co">#' file$published</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Submitting to CRAN
</div>
</div>
<div class="callout-body-container callout-body">
<p>For initial CRAN submission of your package, all functions must contain some runnable examples (i.e.&nbsp;there must be examples and they must not all be wrapped in <code>\dontrun{}</code>).</p>
</div>
</div>
</section><section id="intermixing-examples-and-text" class="level3" data-number="16.6.6"><h3 data-number="16.6.6" class="anchored" data-anchor-id="intermixing-examples-and-text">
<span class="header-section-number">16.6.6</span> Intermixing examples and text</h3>
<p>It’s also possible to show example code in the text with code blocks, either <code>```R</code> if you just want to show some code or <code>```{r}</code> if you want the code to be run.</p>
</section><section id="organisation" class="level3" data-number="16.6.7"><h3 data-number="16.6.7" class="anchored" data-anchor-id="organisation">
<span class="header-section-number">16.6.7</span> Organisation</h3>
<p><code><a href="https://tidyr.tidyverse.org/reference/chop.html">tidyr::chop()</a></code> + <code><a href="https://tidyr.tidyverse.org/reference/chop.html">tidyr::unchop()</a></code>:</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' @examples</span></span>
<span><span class="co">#' # Chop ==============================================================</span></span>
<span><span class="co">#' df &lt;- tibble(x = c(1, 1, 1, 2, 2, 3), y = 1:6, z = 6:1)</span></span>
<span><span class="co">#' # Note that we get one row of output for each unique combination of</span></span>
<span><span class="co">#' # non-chopped variables</span></span>
<span><span class="co">#' df %&gt;% chop(c(y, z))</span></span>
<span><span class="co">#' # cf nest</span></span>
<span><span class="co">#' df %&gt;% nest(data = c(y, z))</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' # Unchop ============================================================</span></span>
<span><span class="co">#' df &lt;- tibble(x = 1:4, y = list(integer(), 1L, 1:2, 1:3))</span></span>
<span><span class="co">#' df %&gt;% unchop(y)</span></span>
<span><span class="co">#' df %&gt;% unchop(y, keep_empty = TRUE)</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' #' # Incompatible types -------------------------------------------------</span></span>
<span><span class="co">#' # If the list-col contains types that can not be natively</span></span>
<span><span class="co">#' df &lt;- tibble(x = 1:2, y = list("1", 1:3))</span></span>
<span><span class="co">#' try(df %&gt;% unchop(y))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="links-and-images" class="level2" data-number="16.7"><h2 data-number="16.7" class="anchored" data-anchor-id="links-and-images">
<span class="header-section-number">16.7</span> Links and images</h2>
<ul>
<li>Regular markdown to link to web pages: <a href="https://r-project.org"><code>https://r-project.org</code></a> or <code>[The R Project](https://r-project.org)</code>.</li>
<li>To link to a function we slightly abuse markdown syntax: <code>[function()]</code> or <code>[pkg::function()]</code>. To link to non-function documentation just omit the <code>()</code>: <code>[topic]</code>, <code>[pkg::topic]()</code>.</li>
<li>Images need to live in …</li>
</ul>
<p>Useful tags</p>
<ul>
<li><p><code>@seealso</code> allows you to point to other useful resources, either on the web, in your package <code>[functioname()]</code>, or another package <code>[pkg::function()]</code>.</p></li>
<li><p>If you have a family of related functions where every function should link to every other function in the family, use <code>@family</code>. The value of <code>@family</code> should be plural.</p></li>
</ul>
<p>When you start using links and images, you’ll also need to use a new documentation workflow, as the workflow described above does not show images or links between topics or. If you’d like to also see links, you can use this slower but more comprehensive workflow:</p>
<ol type="1">
<li><p>Re-document you package <code>Cmd + Shift + D</code>.</p></li>
<li><p>Build and install your package by clicking <img src="images/build-reload.png" class="img-fluid" width="91"> in the build pane or by pressing Ctrl/Cmd + Shift + B. This installs it in your regular library, then restarts R and reloads your package.</p></li>
<li><p>Preview documentation with <code>?</code>.</p></li>
</ol></section><section id="re-using-documentation" class="level2" data-number="16.8"><h2 data-number="16.8" class="anchored" data-anchor-id="re-using-documentation">
<span class="header-section-number">16.8</span> Re-using documentation</h2>
<p>There is a tension between the DRY (don’t repeat yourself) principle of programming and the need for documentation to be self-contained. It’s frustrating to have to navigate through multiple help files in order to pull together all the pieces you need. roxygen2 provides a number of ways to avoid you having to repeat yourself as a developer, while not forcing the user to follow a spiderweb of links to find everything they need. Here we’ll focus on two:</p>
<p>There are two RMarkdown features supported by roxygen2 that you can use to share documentation.</p>
<ul>
<li>You can use child documents to share <code>Rmd</code> between topics.</li>
<li>You can use inline R code to generate documentation.</li>
</ul>
<section id="inherits" class="level3" data-number="16.8.1"><h3 data-number="16.8.1" class="anchored" data-anchor-id="inherits">
<span class="header-section-number">16.8.1</span> <code>@inherits</code>
</h3>
</section><section id="child-documents" class="level3" data-number="16.8.2"><h3 data-number="16.8.2" class="anchored" data-anchor-id="child-documents">
<span class="header-section-number">16.8.2</span> Child documents</h3>
<p>Allows you to share documentation</p>
</section><section id="inline-r-code" class="level3" data-number="16.8.3"><h3 data-number="16.8.3" class="anchored" data-anchor-id="inline-r-code">
<span class="header-section-number">16.8.3</span> Inline R code</h3>


</section></section><section class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1" role="doc-endnote"><p>Or the end of the block, if it’s the last tag.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>For historical reasons, you can also use <code>@return</code>, but I think you should use <code>@returns</code> because it reads a little nicer.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>You used to be able to use <code>\donttest{}</code> for a similar purpose, but we no longer recommended it because CRAN sets a special flag that causes it to be executed.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./testing-advanced.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Advanced testing techniques</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./vignettes.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Vignettes</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>